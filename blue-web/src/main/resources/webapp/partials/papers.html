<div id="papers">
	<div class="top">
		<h1 data-i18n="_Papers_"></h1>
		<div class="options">
			<!---
			<div id="display_style">
				<label>
					<input type="radio" name="display_style" value="list" ng-model="display_style">
					<span class="icon-list"></span>
				</label>
				<label>
					<input type="radio" name="display_style" value="vignette" ng-model="display_style">
					<span class="icon-vignette"></span>
				</label>
			</div>
			-->
			<form id="search">
				<input type="search" data-i18n-attr="_Search..._|placeholder" ng-model="search" autofocus>
			</form>
			<form id="sort">
				<span data-i18n="_Sort_by_"></span>
				<select ng-model="predicate">
					<option value="id" data-i18n="_Id_"></option>
					<option value="name" data-i18n="_Name_"></option>
					<option value="role" data-i18n="_Role_"></option>
					<option value="creation_date" data-i18n="_Creation_date_"></option>
				</select>
				<select ng-model="reverse">
					<option value="false" data-i18n="_Ascending_"></option>
					<option value="true" data-i18n="_Descending_"></option>
				</select>
			</form>
			<div class="clear"></div>
		</div>
	</div>
	<div class="left">
		<!--<h3 data-i18n="_Tag_filter_"></h3>
		<label>
			<input type="radio" name="tag" ng-model="tag_filter" value="all">
			<span class="label" data-i18n="_All_">All</span>
			<span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilter ).length }}</span>
		</label>
		<label ng-repeat="tag in tags | orderBy:'label':false">
			<input type="radio" name="tag" ng-model="tag_filter" value="tag">
			<div class="label"><span class="diskColor" ng-style="{ backgroundColor: tag.color }"></span> {{tag.label}}</div>
			<span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilter ).length }}</span>
		</label>-->
        <h3 data-i18n="_Date_filter_"></h3>
        <label>
        	<span class="label" data-i18n="_From_"></span>: 
        	<input type="date" id="from_data" name="from_date" ng-model="from_date" date-model="from_date">
        </label>
        <label>
        	<span class="label" data-i18n="_To_"></span>: 
        	<input type="date" id="to_date" name="to_date" ng-model="to_date" date-model="to_date">
        </label>
        <!--<label>
            <input type="radio" name="filter" ng-model="date_filter" value="all">
            <span class="label" data-i18n="_All_">All</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="today">
            <span class="label" data-i18n="_Today_">Today</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterToday).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="yesterday">
            <span class="label" data-i18n="_Yesterday_">Yesterday</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterYesterday).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="tweek">
            <span class="label" data-i18n="_This_week_">This week</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterTWeek).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="lweek">
            <span class="label" data-i18n="_Last_week_">Last week</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterLWeek).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="month">
            <span class="label" data-i18n="_This_month_">This month</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterMonth).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="year">
            <span class="label" data-i18n="_This_year_">This Year</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilterAuthor | filter:dateFilterYear).length }}</span>
        </label>-->
		<h3 data-i18n="_Role_filter_">Role filter</h3>
		<label>
			<input type="radio" class="hidden" name="role" ng-model="role_filter" value="all">
			<span class="label" data-i18n="_All_">All</span>
			<span class="nb">{{(papers| filter:search | filter:dateFilter).length }}</span>
		</label>
		<label>
			<input type="radio" class="hidden" name="role" ng-model="role_filter" value="author">
			<span class="label" data-i18n="_Author_"></span>
			<span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilterAuthor).length }}</span>
		</label>
		<label>
			<input type="radio" class="hidden" name="role" ng-model="role_filter" value="reviewer">
			<span class="label" data-i18n="_Reviewer_">Reviewer</span>
			<span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilterReviewer).length }}</span>
		</label>
	</div>
	<div class="center">
		<a class="button" href="#/paper/new" data-i18n="_New_paper_"></a>
		<div id="paper_list" ng-class="display_style">
			<div bl-messages></div>
			<div class="paper header" ng-if="display_style=='list'">
				<div class="name" data-i18n="_Name_"  ng-class="{'predicate': predicate=='name', 'reverse': reverse=='false' || reverse== false}" ng-click="orderBy('name', (reverse=='false' || reverse== false)?true:false)"></div>
				<div class="date" data-i18n="_Creation_date_" ng-class="{'predicate': predicate=='creation_date', 'reverse': !reverse}" ng-click="orderBy('creation_date', (reverse=='false' || reverse== false)?true:false)"></div>
				<div class="role" data-i18n="_Role_" ng-class="{'predicate': predicate=='role', 'reverse': reverse=='false' || reverse== false}" ng-click="orderBy('role', (reverse=='false' || reverse== false)?true:false)"></div>
				<!--<div class="tags" data-i18n="_Tags_"></div>-->
				<div class="options" data-i18n="_Options_"></div>
			</div>
			<div class="paper" ng-repeat="paper in papers | filter:search | filter:dateFilter | filter:roleFilter | orderBy:predicate:reverse">
				<!---
				<div class="icon">
					<a href="#/paper/{{paper.id}}">
						<div bl-preview
						  data-previewType="image"
						  data-page="1"
						  data-paperId="paper.id"
						  data-scale="auto">
						</div>
					</a>
				</div>
				-->
				<div class="name">
					<a href="#/paper/{{paper.id}}">{{paper.name}}</a>
				</div>
				<div class="date">
                    <a href="#/paper/{{paper.id}}">{{paper.creation_date.toLocaleDateString()}}</a>
                </div>
				<div class="role">
					<a href="#/paper/{{paper.id}}">{{paper.role}}</a>
				</div>
				<!--<div class="tags">
					<a href="#/paper/{{paper.id}}"><span ng-repeat="tag in paper.tags | orderBy:'label':false"><span class="diskColor" ng-style="{ backgroundColor: tag.color }"></span></span></a>
				</div>-->
				<div class="options">
					<a class="button option rename" href="#/paper/{{paper.id}}/edit" data-i18n="_Options_" ng-if="paper.role == 'author'"></a>
					<button class="option delete" ng-click="delete(paper)" data-i18n="_Delete_" ng-if="paper.role == 'author'"></button>
				</div>
			</div>
			<div class="no-paper" ng-if="(papers | filter:search | filter:dateFilter | filter:roleFilter).length == 0" data-i18n="_No_paper_found_">No paper found</div>
			<div class="clear"></div>
		</div>
		<a class="button" href="#/paper/new" data-i18n="_New_paper_"></a>
	</div>
</div>
